{% extends 'base.html' %}

{% block header %}
    <h3>{% block title %}編輯商品(SKU){% endblock  %}</h3>
    <hr>
{% endblock  %}

{% block content %}

<div class="container mt-5">
    <div class="card">
        <div class="card-body">
            <form method="post">
                    <!-- Hidden field to store product_id -->
                <input type="hidden" name="product_sku_id" value="{{ product_sku.product_sku_id }}">
                <input type="hidden" name="category_id" value="{{ product_sku.category_id }}">

                <div class="row g-3">
                    <!-- Left column -->
                    <div class="col-md-5 mx-auto">
                        <div class="mb-1">
                            <label for="category_id" class="form-label">*產品類別</label>
                            <!-- <select name="category_id" id="category_id" class="form-select" required>
                                <option value="" disabled selected>選擇產品類別</option>
                                {% for category in categories %}
                                <option value="{{ category.category_id }}">{{ category.category_name }}</option>
                                {% endfor %}
                            </select> -->

                            <select name="category_id" id="category_id" class="form-select" required>
                                <option value="" disabled>選擇產品類別</option>
                                {% for category in categories %}
                                    <option value="{{ category.category_id }}" {% if product_sku.category_id == category.category_id %} selected {% endif %}>
                                        {{ category.category_name }}
                                    </option>
                                {% endfor %}
                            </select>                            
                        </div>
                        
                        <div class="mb-1">
                            <label for="product_name" class="form-label">產品名稱</label>
                            <input type="text" name="product_name" id="disabledTextInput"
                                value="{{ product_sku.product_name }}" class="form-control" placeholder="{{ product_sku.product_name }}">
                        </div>
                        <div class="mb-1">
                            <label for="model_name" class="form-label">產品型號</label>
                            <input type="text" name="model_name" id="disabledTextInput"
                                value="{{ product_sku.model_name }}" class="form-control" placeholder="{{ product_sku.model_name }}">
                        </div>
                        <div class="mb-1">
                            <label for="ean_code" class="form-label">EAN Code</label>
                            <input type="text" name="ean_code" id="disabledTextInput" 
                                value="{{ product_sku.ean_code }}" class="form-control" placeholder="{{ product_sku.ean_code }}">
                        </div>
                        <div class="mb-1">
                            <label for="upc_code" class="form-label">UPC Code</label>
                            <input type="text" name="upc_code" id="disabledTextInput" 
                                value="{{ product_sku.upc_code }}" class="form-control" placeholder="{{ product_sku.upc_code }}">
                        </div>

                    </div>

                    <!-- Right column -->

                    <div class="col-12 mt-3 mx-auto text-center">
                        <button type="submit" class="btn btn-primary">更新</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

    <div class="col-12 mt-3 mx-auto text-center">
        <!-- Form for Delete Action -->
        <form method="POST" action="{{ url_for('overview.product.product_delete_sku', sku_id=product_sku.sku_id) }}" class="container">
            <!-- Confirmation prompt before submitting the form -->
            <button type="submit" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this?')">刪除</button>
        </form>
    </div>
    


{% endblock %}